(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1676],{9387:function(e,r,s){Promise.resolve().then(s.bind(s,1474)),Promise.resolve().then(s.bind(s,4165))},1474:function(e,r,s){"use strict";s.d(r,{default:function(){return i}});var t=s(7437),a=s(2265),n=s(1671),l=s(9322),o=s(6337);function i(){let[e,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!1),[m,g]=(0,a.useState)(""),f=async t=>{if(t.preventDefault(),g(""),x(!1),s!==c){g("New passwords do not match");return}if(s.length<8){g("New password must be at least 8 characters long");return}p(!0);try{let t=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:e,newPassword:s}),credentials:"include"}),a=await t.json();a.success?(x(!0),r(""),i(""),d(""),setTimeout(()=>{x(!1)},5e3)):g(a.error||"Failed to change password")}catch(e){console.error("Change password error:",e),g("An error occurred. Please try again.")}finally{p(!1)}};return(0,t.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[h&&(0,t.jsxs)("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-xl flex items-center gap-3",children:[(0,t.jsx)(n.Z,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-green-300 text-sm",children:"Password changed successfully!"})]}),m&&(0,t.jsxs)("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-xl flex items-center gap-3",children:[(0,t.jsx)(l.Z,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-red-300 text-sm",children:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-bold text-gray-300 mb-2",children:"Current Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,t.jsx)(o.Z,{className:"w-5 h-5 text-gray-500"})}),(0,t.jsx)("input",{type:"password",id:"currentPassword",value:e,onChange:e=>r(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter current password",required:!0,autoComplete:"current-password"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-bold text-gray-300 mb-2",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,t.jsx)(o.Z,{className:"w-5 h-5 text-gray-500"})}),(0,t.jsx)("input",{type:"password",id:"newPassword",value:s,onChange:e=>i(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter new password",required:!0,minLength:8,autoComplete:"new-password"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Minimum 8 characters"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-bold text-gray-300 mb-2",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,t.jsx)(o.Z,{className:"w-5 h-5 text-gray-500"})}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",value:c,onChange:e=>d(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Confirm new password",required:!0,minLength:8,autoComplete:"new-password"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:shadow-xl transition-all font-bold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing Password..."]}):"Change Password"})]})}},9322:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6337:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},function(e){e.O(0,[7648,4165,2971,8966,1744],function(){return e(e.s=9387)}),_N_E=e.O()}]);